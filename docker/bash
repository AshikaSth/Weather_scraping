#!/bin/sh
cd "$(dirname "$0")/.."

# Usage: docker/bash          → opens shell in app
#        docker/bash worker   → opens shell in celery_worker
SERVICE=${1:-app}

case "$SERVICE" in
  worker) CONTAINER="weather_scraping-celery_worker-1" ;;
  beat)   CONTAINER="weather_scraping-celery_beat-1" ;;
  db)     CONTAINER="weather_scraping-db-1" ;;
  redis)  CONTAINER="weather_scraping-redis-1" ;;
  *)      CONTAINER="weather_scraping-app-1" ;;
esac

echo "Opening shell in $CONTAINER..."
docker exec -it $CONTAINER /bin/bash